<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> Gestion des audios et videos </title>
</head>

<body>
    <!-- L'audio -->
    <audio id="audioPlayer" src="Dimanche-soir.mp3" controls></audio> <br>

    <button class="control" onclick="play('audioPlayer', this)"> Play </button>
    <button class="control" onclick="resume('audioPlayer')"> Stop</button>

    <script>
        // Controleurs de lecture 
        var player = document.querySelector('#audioPlayer');
        // play :
        player.play();
        // pause : 
        player.pause();
        //stop :
        player.pause();
        player.currentTime = 0;

        function play(idPlayer, control) {
            var player = document.querySelector('#' + idPlayer);

            if (player.paused) {
                player.play();
                control.textContent = 'Pause';
            } else {
                player.pause();
                control.textContent = 'Play';
            }
        }

        function resume(idPlayer) {
            var player = document.querySelector('#' + idPlayer);

            player.currentTime = 0;
            player.pause();
        }
    </script>
    <!--Contrôle du volume-->

    <span class="volume">
            <a class="stick1" onclick="volume('audioPlayer', 0)"></a>
            <a class="stick2" onclick="volume('audioPlayer', 0.3)"></a>
            <a class="stick3" onclick="volume('audioPlayer', 0.5)"></a>
            <a class="stick4" onclick="volume('audioPlayer', 0.7)"></a>
            <a class="stick5" onclick="volume('audioPlayer', 1)"></a>
        </span>
    <script>
        function volume(idPlayer, vol) {
            var player = document.querySelector('#' + idPlayer);

            player.volume = vol;
        }
    </script>

    <!-- Analyser la lecture -->
    <audio id="audioPlayer" ontimeupdate="update(this)"></audio>
    <script>
        function update(player) {
            var duration = player.duration; // Durée totale
            var time = player.currentTime; // Temps écoulé
            var fraction = time / duration;
            var percent = Math.ceil(fraction * 100);

            var progress = document.querySelector('#progressBar');

            progress.style.width = percent + '%';
            progress.textContent = percent + '%';
        }
    </script>

</body>

</html>